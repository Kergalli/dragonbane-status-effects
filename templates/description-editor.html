<!-- Description Editor Template: templates/description-editor.html -->
<form
  class="description-editor-form"
  style="display: flex; flex-direction: column; height: 100%; gap: 1rem"
>
  <!-- Header Section -->
  <div class="editor-header" style="flex-shrink: 0; padding: 0.5rem">
    <p style="margin: 0; font-size: 0.9rem; line-height: 1.4">
      {{localize "DRAGONBANE_STATUS.editor.instructions"}}
    </p>
  </div>

  <!-- Main Content - Scrollable -->
  <div
    class="editor-content"
    style="flex: 1; overflow-y: auto; padding: 0 0.5rem"
  >
    {{#if hasCondition}}
    <section class="effect-category" style="margin-bottom: 2rem">
      <h3
        style="
          color: #8c7a4a;
          font-size: 1.1rem;
          font-weight: bold;
          margin: 0 0 1rem 0;
          padding-bottom: 0.5rem;
          border-bottom: 2px solid #8c7a4a;
        "
      >
        {{categories.condition}}
      </h3>
      <div class="effects-grid" style="display: grid; gap: 1rem">
        {{#each effects.condition}}
        <div
          class="effect-row"
          style="
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 0.5rem;
            align-items: start;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
          "
        >
          <div
            class="effect-info"
            style="
              display: flex;
              align-items: center;
              gap: 0.75rem;
              min-width: 200px;
            "
          >
            <img
              src="{{this.img}}"
              alt="{{this.name}}"
              style="
                width: 60px;
                height: 60px;
                border-radius: 4px;
                border: 1px solid rgba(0, 0, 0, 0.2);
              "
            />
            <label
              for="description-{{this.id}}"
              style="font-weight: 500; cursor: pointer"
              >{{this.name}}</label
            >
          </div>
          <div class="effect-description" style="flex: 1">
            <textarea
              name="description-{{this.id}}"
              id="description-{{this.id}}"
              placeholder="{{localize 'DRAGONBANE_STATUS.editor.placeholder'}}"
              style="
                width: 100%;
                min-height: 60px;
                padding: 0.5rem;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-family: inherit;
                resize: vertical;
              "
              rows="2"
            >
{{this.description}}</textarea
            >
          </div>
        </div>
        {{/each}}
      </div>
    </section>
    {{/if}} {{#if hasGeneral}}
    <section class="effect-category" style="margin-bottom: 2rem">
      <h3
        style="
          color: #4a7c59;
          font-size: 1.1rem;
          font-weight: bold;
          margin: 0 0 1rem 0;
          padding-bottom: 0.5rem;
          border-bottom: 2px solid #4a7c59;
        "
      >
        {{categories.general}}
      </h3>
      <div class="effects-grid" style="display: grid; gap: 1rem">
        {{#each effects.general}}
        <div
          class="effect-row"
          style="
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 0.5rem;
            align-items: start;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
          "
        >
          <div
            class="effect-info"
            style="
              display: flex;
              align-items: center;
              gap: 0.75rem;
              min-width: 200px;
            "
          >
            <img
              src="{{this.img}}"
              alt="{{this.name}}"
              style="
                width: 60px;
                height: 60px;
                border-radius: 4px;
                border: 1px solid rgba(0, 0, 0, 0.2);
              "
            />
            <label
              for="description-{{this.id}}"
              style="font-weight: 500; cursor: pointer"
              >{{this.name}}</label
            >
          </div>
          <div class="effect-description" style="flex: 1">
            <textarea
              name="description-{{this.id}}"
              id="description-{{this.id}}"
              placeholder="{{localize 'DRAGONBANE_STATUS.editor.placeholder'}}"
              style="
                width: 100%;
                min-height: 60px;
                padding: 0.5rem;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-family: inherit;
                resize: vertical;
              "
              rows="2"
            >
{{this.description}}</textarea
            >
          </div>
        </div>
        {{/each}}
      </div>
    </section>
    {{/if}} {{#if hasSpell}}
    <section class="effect-category" style="margin-bottom: 2rem">
      <h3
        style="
          color: #7c4a7c;
          font-size: 1.1rem;
          font-weight: bold;
          margin: 0 0 1rem 0;
          padding-bottom: 0.5rem;
          border-bottom: 2px solid #7c4a7c;
        "
      >
        {{categories.spell}}
      </h3>
      <div class="effects-grid" style="display: grid; gap: 1rem">
        {{#each effects.spell}}
        <div
          class="effect-row"
          style="
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 0.5rem;
            align-items: start;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
          "
        >
          <div
            class="effect-info"
            style="
              display: flex;
              align-items: center;
              gap: 0.75rem;
              min-width: 200px;
            "
          >
            <img
              src="{{this.img}}"
              alt="{{this.name}}"
              style="
                width: 60px;
                height: 60px;
                border-radius: 4px;
                border: 1px solid rgba(0, 0, 0, 0.2);
              "
            />
            <label
              for="description-{{this.id}}"
              style="font-weight: 500; cursor: pointer"
              >{{this.name}}</label
            >
          </div>
          <div class="effect-description" style="flex: 1">
            <textarea
              name="description-{{this.id}}"
              id="description-{{this.id}}"
              placeholder="{{localize 'DRAGONBANE_STATUS.editor.placeholder'}}"
              style="
                width: 100%;
                min-height: 60px;
                padding: 0.5rem;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-family: inherit;
                resize: vertical;
              "
              rows="2"
            >
{{this.description}}</textarea
            >
          </div>
        </div>
        {{/each}}
      </div>
    </section>
    {{/if}} {{#if hasAbility}}
    <section class="effect-category" style="margin-bottom: 2rem">
      <h3
        style="
          color: #8c7a4a;
          font-size: 1.1rem;
          font-weight: bold;
          margin: 0 0 1rem 0;
          padding-bottom: 0.5rem;
          border-bottom: 2px solid #8c7a4a;
        "
      >
        {{categories.ability}}
      </h3>
      <div class="effects-grid" style="display: grid; gap: 1rem">
        {{#each effects.ability}}
        <div
          class="effect-row"
          style="
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 0.5rem;
            align-items: start;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
          "
        >
          <div
            class="effect-info"
            style="
              display: flex;
              align-items: center;
              gap: 0.75rem;
              min-width: 200px;
            "
          >
            <img
              src="{{this.img}}"
              alt="{{this.name}}"
              style="
                width: 60px;
                height: 60px;
                border-radius: 4px;
                border: 1px solid rgba(0, 0, 0, 0.2);
              "
            />
            <label
              for="description-{{this.id}}"
              style="font-weight: 500; cursor: pointer"
              >{{this.name}}</label
            >
          </div>
          <div class="effect-description" style="flex: 1">
            <textarea
              name="description-{{this.id}}"
              id="description-{{this.id}}"
              placeholder="{{localize 'DRAGONBANE_STATUS.editor.placeholder'}}"
              style="
                width: 100%;
                min-height: 60px;
                padding: 0.5rem;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-family: inherit;
                resize: vertical;
              "
              rows="2"
            >
{{this.description}}</textarea
            >
          </div>
        </div>
        {{/each}}
      </div>
    </section>
    {{/if}}
  </div>

  <!-- Footer Section -->
  <div
    class="editor-footer"
    style="
      flex-shrink: 0;
      padding: 1rem 0.5rem;
      background: rgba(0, 0, 0, 0.05);
      border-radius: 4px;
    "
  >
    <!-- Hidden file input for import (still needed) -->
    <input
      type="file"
      id="import-file-input"
      accept=".json"
      style="display: none"
    />

    <div
      class="button-group"
      style="display: flex; gap: 0.75rem; justify-content: flex-end"
    >
      <button
        type="button"
        data-action="save"
        style="
          padding: 0.35rem 1rem;
          background: #4a7c59;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-weight: 500;
          text-align: center;
        "
      >
        {{localize "DRAGONBANE_STATUS.editor.save"}}
      </button>
      <button
        type="button"
        data-action="clear-all"
        style="
          padding: 0.35rem 1rem;
          background: #7c4a4a;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-weight: 500;
          text-align: center;
        "
      >
        {{localize "DRAGONBANE_STATUS.editor.clearAll"}}
      </button>
    </div>
  </div>
</form>
